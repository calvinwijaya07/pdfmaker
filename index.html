<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baziwithcalvin</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', // Mengaktifkan dark mode via class
            theme: {
                extend: {
                    colors: {
                        'bazi-red': '#cc3333', /* Merah Khas Tiongkok */
                        'bazi-gold': '#ffcc66', /* Emas Khas Tiongkok */
                        'dark-bg': '#1f2937', /* Abu Gelap */
                        'light-bg': '#f3f4f6', /* Abu Terang */
                        'light-card': '#ffffff', /* Kartu Putih */
                        'light-text': '#1f2937', /* Teks Hitam */
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Tema Default (Dark Mode) */
        body {
            background-color: '#1f2937';
            color: '#e5e7eb';
        }

        /* Tema Light Mode */
        .light body {
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .light .bg-gray-800 {
            background-color: #ffffff;
            border-color: #e5e7eb;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .light .bg-gray-700 {
            background-color: #f9fafb;
            color: #1f2937;
            border-color: #d1d5db;
        }
        .light .text-gray-100 { color: #1f2937; }
        .light .text-gray-400 { color: #6b7280; }
        .light .text-gray-300 { color: #374151; }
        .light #ebook-content { color: #1f2937; }
        .light #result-container { 
            background-color: #ffffff; 
            border-color: #d1d5db;
        }

        /* --- STYLING KHUSUS EBOOK UNTUK STRUKTUR YANG RAPI --- */
        .ebook-content h1 {
            font-size: 2.25rem; 
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #cc3333; /* Merah Bazi */
            border-bottom: 2px solid #ffcc66;
            padding-bottom: 0.5rem;
        }
        .ebook-content h2 {
            font-size: 1.5rem; 
            font-weight: 600;
            margin-top: 1.25rem;
            margin-bottom: 0.5rem;
            color: #ffcc66; /* Emas Bazi */
        }
        /* Penyesuaian warna teks H1/H2 di Light Mode */
        .light .ebook-content h1 { color: #cc3333; }
        .light .ebook-content h2 { color: #cc3333; }
        
        .ebook-content p {
            margin-bottom: 1rem;
            line-height: 1.75;
            text-align: justify;
        }
        .ebook-content ul, .ebook-content ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
            list-style-type: disc;
        }
        
        .ebook-content[contenteditable="true"]:focus {
            outline: 2px solid #ffcc66;
            box-shadow: 0 0 10px rgba(255, 204, 102, 0.5);
        }


        /* Media Print untuk PDF */
        @media print {
            body, .light body {
                background: #ffffff !important;
                color: #000000 !important;
                padding: 0;
                margin: 0;
            }
            .no-print { display: none !important; }
            .ebook-content {
                max-width: 100% !important;
                margin: 0 !important;
                box-shadow: none !important;
                border: none !important;
                color: #000000 !important;
                padding: 20px;
                font-family: 'serif' !important;
            }
            .ebook-content h1, .ebook-content h2 {
                color: #cc3333 !important;
                border-bottom: 1px solid #ccc !important;
            }
        }
    </style>
</head>
<body class="min-h-screen font-sans flex justify-center py-8 px-4 transition-colors duration-300">

    <!-- Kontainer Utama -->
    <div class="w-full max-w-4xl space-y-8">
        
        <!-- Header & Mode Switch -->
        <header class="text-center no-print">
            <!-- Branding BAZIWITHCALVIN -->
            <h1 class="text-4xl font-extrabold text-bazi-red mb-2 tracking-tight">
                BAZIWITHCALVIN
            </h1>
            <p class="text-gray-400 dark:text-gray-400">Pusat Eksklusif Konten Bazi & Metafisika</p>
            
            <!-- Theme Switcher -->
            <div class="mt-4 flex justify-center gap-3">
                <button id="dark-mode-btn" onclick="setTheme('dark')" class="text-xs px-3 py-1 rounded-full text-bazi-gold border border-bazi-gold hover:bg-gray-700 transition">
                    <span class="dark-only">⚫</span> Dark Mode
                </button>
                <button id="light-mode-btn" onclick="setTheme('light')" class="text-xs px-3 py-1 rounded-full text-bazi-red border border-bazi-red hover:bg-gray-100 transition">
                    <span class="light-only">⚪</span> Light Mode
                </button>
            </div>
        </header>

        <!-- Form Input dan Kontrol (No Print) -->
        <div class="bg-gray-800 light:bg-light-card p-6 md:p-8 rounded-xl shadow-2xl border border-gray-700 light:border-gray-300 space-y-6 no-print transition-colors duration-300">
            
            <!-- Input Prompt -->
            <div>
                <label for="prompt" class="block text-lg font-medium mb-2 text-bazi-gold">
                    Topik Ebook (Contoh: "Analisis pilar hari Jia Wood" atau "Basic Bazi concepts")
                </label>
                <textarea id="prompt" rows="3" placeholder="Masukkan topik spesifik Metafisika Tiongkok. (Bazi, Zi Wei, Feng Shui, dll.)"
                    class="w-full p-4 bg-gray-700 light:bg-light-bg border border-gray-600 light:border-gray-300 rounded-lg focus:ring-bazi-red focus:border-bazi-red transition duration-200 text-gray-100 light:text-light-text placeholder-gray-400 light:placeholder-gray-500">
                </textarea>
            </div>
            
            <!-- Input Negative Prompt -->
            <div>
                <label for="negative-prompt" class="block text-lg font-medium mb-2 text-gray-300 light:text-gray-700">
                    Penyaring Konten (Opsional - Apa yang HARUS DIHINDARI Model)
                </label>
                <textarea id="negative-prompt" rows="2" placeholder="Contoh: 'Jangan gunakan istilah terlalu akademis', atau 'Hindari prediksi keuangan'"
                    class="w-full p-4 bg-gray-700 light:bg-light-bg border border-gray-600 light:border-gray-300 rounded-lg focus:ring-bazi-red focus:border-bazi-red transition duration-200 text-gray-100 light:text-light-text placeholder-gray-400 light:placeholder-gray-500 text-sm">
                </textarea>
            </div>

            <!-- Pilihan Bahasa -->
            <div class="flex flex-col sm:flex-row gap-4">
                <div class="w-full sm:w-1/2">
                    <label for="language" class="block text-lg font-medium mb-2 text-bazi-gold">
                        Pilih Bahasa
                    </label>
                    <select id="language"
                        class="w-full p-4 bg-gray-700 light:bg-light-bg border border-gray-600 light:border-gray-300 rounded-lg focus:ring-bazi-red focus:border-bazi-red transition duration-200 text-gray-100 light:text-light-text">
                        <option value="Indonesian">Bahasa Indonesia</option>
                        <option value="English">English</option>
                    </select>
                </div>
            </div>

            <!-- Tombol Generate -->
            <button id="generate-btn" disabled
                class="w-full py-4 px-6 bg-bazi-red text-white font-bold text-xl rounded-lg shadow-lg hover:bg-red-700 transition duration-300 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center">
                <div id="loading-indicator" class="hidden flex items-center">
                    <div class="animate-spin border-4 border-bazi-gold border-solid h-6 w-6 rounded-full mr-3 border-r-transparent"></div>
                    <span>Gemini sedang menulis konten...</span>
                </div>
                <span id="generate-text">Generate Ebook Konten</span>
            </button>
            
            <!-- Pesan Error/Info -->
            <div id="message-box" class="hidden p-3 rounded-lg text-sm bg-red-800 text-red-200"></div>

        </div>

        <!-- Area Hasil Ebook -->
        <div class="space-y-4">
            <h2 class="text-2xl font-bold text-bazi-red no-print">Hasil Konten (Edit di Sini & Siap Cetak PDF)</h2>
            
            <div id="result-container" class="min-h-72 bg-gray-900 light:bg-light-card rounded-xl shadow-2xl p-6 sm:p-10 border border-gray-700 light:border-gray-300 transition-colors duration-300">
                <p id="initial-message" class="text-gray-400 light:text-gray-500 text-lg text-center">
                    Teks Ebook/PDF tentang Metafisika Tiongkok akan muncul di sini. Setelah muncul, kamu bisa langsung mengedit teks ini!
                </p>
                <!-- Konten Ebook yang di-generate akan dimasukkan di sini dan bisa diedit -->
                <div id="ebook-content" class="ebook-content text-gray-200 light:text-light-text hidden" contenteditable="true"></div>
            </div>

            <!-- Tombol Aksi PDF/Copy (No Print) -->
            <div class="text-center no-print pt-4 flex flex-col sm:flex-row gap-4 justify-center">
                
                <!-- Tombol Cetak PDF -->
                <button id="print-btn" disabled
                    class="hidden inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-gray-900 bg-bazi-gold hover:bg-yellow-400 transition duration-300 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41l2.35 2.35l5.88-5.88l1.41 1.41L12.23 15L8 10.77l-2.46 2.46zM19 8h-4V3H9v5H5l4 4l5.06-5.06l4 4V8z"/>
                    </svg>
                    Cetak Ebook PDF
                </button>
                
                <!-- Tombol Copy Konten -->
                <button id="copy-btn" disabled
                    class="hidden inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-gray-700 hover:bg-gray-600 transition duration-300 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="h-5 w-5 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                    </svg>
                    Copy Semua Konten
                </button>
            </div>
            
            <!-- Area Sumber/Citations -->
            <div id="sources-container" class="hidden p-4 mt-4 bg-gray-800 light:bg-gray-200 rounded-lg text-sm border-t border-gray-700 light:border-gray-400 no-print transition-colors duration-300">
                <h3 class="font-bold text-bazi-gold light:text-bazi-red mb-2">Sumber Informasi (Grounding)</h3>
                <ul id="sources-list" class="list-disc ml-5 space-y-1 text-gray-400 light:text-gray-600"></ul>
            </div>
        </div>
        
        <!-- Custom Modal untuk Info/Error (Bukan Alert) -->
        <div id="custom-modal" class="fixed inset-0 bg-black bg-opacity-70 hidden items-center justify-center p-4 z-50">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-sm p-6 text-gray-900 space-y-4">
                <h3 id="modal-title" class="text-xl font-bold text-bazi-red">Informasi Penting!</h3>
                <p id="modal-body">Pesan akan ditampilkan di sini.</p>
                <button onclick="hideModal()" class="w-full py-2 bg-bazi-red text-white rounded-md hover:bg-red-700">Mengerti</button>
            </div>
        </div>

    </div>

    <script>
        // Variabel global
        const promptInput = document.getElementById('prompt');
        const negativePromptInput = document.getElementById('negative-prompt');
        const languageSelect = document.getElementById('language');
        const generateBtn = document.getElementById('generate-btn');
        const loadingIndicator = document.getElementById('loading-indicator');
        const generateText = document.getElementById('generate-text');
        const messageBox = document.getElementById('message-box');
        const initialMessage = document.getElementById('initial-message');
        const ebookContent = document.getElementById('ebook-content');
        const printBtn = document.getElementById('print-btn');
        const copyBtn = document.getElementById('copy-btn');
        const sourcesContainer = document.getElementById('sources-container');
        const sourcesList = document.getElementById('sources-list');
        const customModal = document.getElementById('custom-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');

        // Konfigurasi API
        const apiKey = "AIzaSyDlnJBOSDlIBuSAmhc32hqV-ves0X185EE"; 
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

        // --- THEME SWITCHER ---
        function setTheme(mode) {
            if (mode === 'dark') {
                document.documentElement.classList.remove('light');
                localStorage.setItem('theme', 'dark');
            } else {
                document.documentElement.classList.add('light');
                localStorage.setItem('theme', 'light');
            }
        }

        // Load theme on startup
        if (localStorage.getItem('theme') === 'light') {
            setTheme('light');
        } else {
            setTheme('dark');
        }

        // --- FUNGSI UTILITAS UI ---
        function showModal(title, message) {
            modalTitle.textContent = title;
            modalBody.textContent = message;
            customModal.style.display = 'flex';
        }

        function hideModal() {
            customModal.style.display = 'none';
        }

        function setLoading(isLoading) {
            generateBtn.disabled = isLoading || promptInput.value.trim().length === 0;
            promptInput.disabled = isLoading;
            negativePromptInput.disabled = isLoading;
            languageSelect.disabled = isLoading;
            if (isLoading) {
                loadingIndicator.classList.remove('hidden');
                generateText.classList.add('hidden');
            } else {
                loadingIndicator.classList.add('hidden');
                generateText.classList.remove('hidden');
            }
        }

        function showMessage(message, type = 'error') {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-red-800', 'bg-blue-800', 'text-red-200', 'text-blue-200');
            if (type === 'error') {
                messageBox.classList.add('bg-red-800', 'text-red-200');
            } else {
                messageBox.classList.add('bg-blue-800', 'text-blue-200');
            }
        }

        function hideMessage() {
            messageBox.classList.add('hidden');
        }

        function displaySources(sources) {
            sourcesList.innerHTML = '';
            if (sources && sources.length > 0) {
                sourcesContainer.classList.remove('hidden');
                sources.forEach((source) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<a href="${source.uri}" target="_blank" class="hover:text-bazi-gold transition">${source.title || 'Sumber'}</a>`;
                    sourcesList.appendChild(li);
                });
            } else {
                sourcesContainer.classList.add('hidden');
            }
        }

        function printEbook() {
            const isIndonesian = languageSelect.value === 'Indonesian';
            const message = isIndonesian 
                ? "Dialog cetak mungkin diblokir di lingkungan ini. Pastikan kamu menekan tombol atau menggunakan shortcut keyboard: Ctrl + P (Windows/Linux) atau Cmd + P (Mac) untuk menyimpan sebagai PDF."
                : "The print dialog might be blocked in this environment. Please ensure you press the button or use the keyboard shortcut: Ctrl + P (Windows/Linux) or Cmd + P (Mac) to save as PDF.";
            
            showModal(isIndonesian ? "Instruksi Cetak PDF" : "PDF Print Instruction", message);
            
            setTimeout(() => {
                window.print();
            }, 500); // Memberi waktu modal muncul sebelum print attempt
        }

        function copyEbookContent() {
            const range = document.createRange();
            range.selectNode(ebookContent);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            
            try {
                const successful = document.execCommand('copy');
                const isIndonesian = languageSelect.value === 'Indonesian';
                if (successful) {
                    showMessage(isIndonesian ? "Konten Metafisika berhasil disalin ke clipboard!" : "Metaphysics content successfully copied to clipboard!", 'info');
                } else {
                    showMessage(isIndonesian ? "Gagal menyalin. Silakan salin manual." : "Copy failed. Please copy manually.", 'error');
                }
            } catch (err) {
                console.error('Copy command failed: ', err);
                showMessage(isIndonesian ? "Gagal menyalin. Silakan salin manual." : "Copy failed. Please copy manually.", 'error');
            }
            
            window.getSelection().removeAllRanges();
        }

        // --- LOGIC API CALL DAN RETRY ---

        async function fetchWithRetry(url, options, maxRetries = 3, delay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    
                    if (response.ok) {
                        return response;
                    }
                    
                    const status = response.status;
                    let errorDetails = `Permintaan gagal dengan status ${status}.`;
                    try {
                        const errorBody = await response.json();
                        if (errorBody.error && errorBody.error.message) {
                            errorDetails += ` Detail: ${errorBody.error.message}`;
                        } else {
                            errorDetails += " Detail tidak tersedia. Pastikan API Key benar.";
                        }
                    } catch (jsonError) {
                        errorDetails += " Server memberikan respons non-JSON.";
                    }
                    
                    if (status === 429 || status >= 500) {
                        if (i < maxRetries - 1) {
                            const waitTime = delay * Math.pow(2, i) + Math.random() * 1000;
                            showMessage(`Error sementara (${status}). Mencoba lagi dalam ${Math.round(waitTime / 1000)} detik...`, 'info');
                            await new Promise(resolve => setTimeout(resolve, waitTime));
                            continue;
                        }
                    }
                    
                    throw new Error(errorDetails); 
                } catch (error) {
                    if (i === maxRetries - 1) {
                        throw error; 
                    }
                    const waitTime = delay * Math.pow(2, i) + Math.random() * 1000;
                    showMessage(`Koneksi error. Mencoba lagi dalam ${Math.round(waitTime / 1000)} detik...`, 'info');
                    await new Promise(resolve => setTimeout(resolve, waitTime));
                }
            }
        }

        /**
         * Fungsi utama untuk menghasilkan konten Ebook.
         */
        async function generateEbook() {
            hideMessage();
            const prompt = promptInput.value.trim();
            const negativePrompt = negativePromptInput.value.trim();
            const language = languageSelect.value;
            const isIndonesian = language === 'Indonesian';

            if (apiKey === "") {
                showMessage(isIndonesian ? "ERROR: API Key belum diisi. Harap isi 'const apiKey = \"\"' di dalam kode JavaScript." : "ERROR: API Key is missing. Please fill in 'const apiKey = \"\"' in the JavaScript code.");
                return;
            }

            if (prompt.length < 10) {
                showMessage(isIndonesian ? "ERROR: Topik Ebook minimal harus 10 karakter." : "ERROR: Ebook topic must be at least 10 characters long.");
                return;
            }

            setLoading(true);
            initialMessage.classList.add('hidden');
            ebookContent.classList.add('hidden');
            printBtn.classList.add('hidden');
            copyBtn.classList.add('hidden');
            sourcesContainer.classList.add('hidden');
            
            // System Instruction yang Fleksibel untuk Semua Cabang Metafisika
            // Memaksa penggunaan tag HTML <ul>/<li> dan melarang marker Markdown * atau -.
            let systemPrompt = isIndonesian
                ? "Anda adalah seorang penulis dan pakar Metafisika Tiongkok (Bazi, Zi Wei, Feng Shui, Qi Men, dll.) profesional. Tulis konten setidaknya 500 kata dalam gaya format Ebook yang informatif, mendalam, dan terstruktur. JANGAN PERNAH menyertakan kalimat pembuka internal. Gunakan tag HTML <h1> untuk judul utama, <h2> untuk sub-bab, dan gunakan list HTML (<ul> atau <ol>) dengan tag <li> di dalamnya jika sesuai. JANGAN GUNAKAN MARKER LIST SEPERTI * ATAU -. Tulis konten secara eksklusif dalam Bahasa Indonesia. Sertakan pendahuluan dan kesimpulan singkat."
                : "You are a professional Chinese Metaphysics (Bazi, Zi Wei, Feng Shui, Qi Men, etc.) author and expert. Write content of at least 500 words in an informative, in-depth, and well-structured Ebook format. NEVER include internal opening phrases. Use HTML tags <h1> for the main title, <h2> for sub-chapters, and use HTML lists (<ul> or <ol>) with <li> tags inside where appropriate. DO NOT USE LIST MARKERS LIKE * OR -. Write the content exclusively in English. Include a brief introduction and conclusion.";

            if (negativePrompt) {
                const negativeInstruction = isIndonesian
                    ? ` INSTRUKSI TAMBAHAN (PENTING): Konten harus menghindari topik dan gaya berikut: ${negativePrompt}.`
                    : ` ADDITIONAL INSTRUCTION (CRITICAL): The content must avoid the following topics and styles: ${negativePrompt}.`;
                systemPrompt += negativeInstruction;
            }
            
            const userQuery = isIndonesian
                ? `Tulis konten Ebook tentang topik dan cabang Metafisika Tiongkok ini: ${prompt}`
                : `Write an Ebook content on the following Chinese Metaphysics topic and branch: ${prompt}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };
            
            try {
                const response = await fetchWithRetry(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const candidate = result.candidates?.[0];
                let generatedText = '';
                let sources = [];
                
                if (candidate && candidate.content?.parts?.[0]?.text) {
                    generatedText = candidate.content.parts[0].text;

                    const groundingMetadata = candidate.groundingMetadata;
                    if (groundingMetadata && groundingMetadata.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attribution => ({
                                uri: attribution.web?.uri,
                                title: attribution.web?.title,
                            }))
                            .filter(source => source.uri && source.title);
                    }
                }

                if (generatedText) {
                    const cleanupRegex = /^(?:Oke, saya sudah mendapatkan informasi|Baik, berdasarkan pencarian|Here is the content based on my search|Okay, I have gathered enough information|Tentu, berikut adalah|Tentu, berikut konten|Sure, here is the content|Sebagai pakar Bazi, saya telah|Sebagai pakar Metafisika, saya telah).*?\s*/i;
                    const cleanedText = generatedText.replace(cleanupRegex, '').trim();

                    ebookContent.innerHTML = cleanedText;
                    ebookContent.classList.remove('hidden');
                    printBtn.classList.remove('hidden');
                    copyBtn.classList.remove('hidden');
                    showMessage(isIndonesian ? "Konten Ebook Metafisika berhasil dibuat! Siap diedit, dicopy, atau dicetak PDF." : "Metaphysics Ebook content successfully generated! Ready to be edited, copied, or printed as PDF.", 'info');
                    displaySources(sources);
                } else {
                    showMessage(isIndonesian ? "ERROR: Model tidak menghasilkan konten. Coba ganti prompt atau pastikan API Key benar." : "ERROR: The model did not generate content. Try a different prompt or ensure your API Key is correct.");
                    initialMessage.classList.remove('hidden');
                }

            } catch (error) {
                console.error("Fetch Error:", error);
                showMessage(`${isIndonesian ? "ERROR Fatal: Terjadi kesalahan saat memanggil API." : "FATAL ERROR: An error occurred while calling the API."} ${error.message}`);
                initialMessage.classList.remove('hidden');
            } finally {
                setLoading(false);
            }
        }


        // --- EVENT LISTENERS ---

        generateBtn.addEventListener('click', generateEbook);
        printBtn.addEventListener('click', printEbook);
        copyBtn.addEventListener('click', copyEbookContent);

        promptInput.addEventListener('input', function() {
            generateBtn.disabled = this.value.trim().length === 0;
        });

        promptInput.dispatchEvent(new Event('input'));
        
    </script>
</body>
</html>
